# Chapter 05 다른 뷰 컨트롤러와 데이터 주고받기 2 - 이전 화면으로 값 직접 전달, 이전 화면으로 값 간접 전달

### VC2 --> VC1 과 같이 이전 화면으로 값을 전달할 경우에는 약간 다름

- VC1 --> VC2 에서는 이동할 화면의 인스턴스를 새로 만들어 주지만, VC2 --> VC1의 경우에는 VC1 (이전 화면)의 인스턴스가 기존에 존재하기 때문에 이 인스턴스를 갖고와야 함
- 또한 화면 복귀 시에는 화면 전환 메소드가 아닌 화면 복귀 메소드를 사용
- 화면의 초기화가 아니기 때문에 viewDidLoad() 메소드 말고, **화면이 새롭게 그려질 때 마다 호출되는 viewWillAppear(_:) 메소드**에 원하는 코드를 작성해주어야 함
- 하지만 앱 전체에서 소실되어서는 안 되는 값이라면 직접 주고받는 것보다는 별도의 저장소를 활용해주는 것이 좋다.

### [ 저장소를 사용하여 값을 주고 받기 ]
- 뷰 컨트롤러들이 값을 저장하고 읽어오는 저장소 역할을 담당할 객체는 데이터의 성격에 따라 다양한 선택이 가능하다.
- 1. **가장 쉽게 사용할 수 있는 객체로는 AppDelegate 클래스**가 있다. (여러 뷰 컨트롤러에서 모두 접근 가능하고, 앱이 실행되는 동안은 계속 값을 유지할 수 있음)
- 2. **반영구적으로 값을 저장하고 싶다면 코코아 터치 프레임워크에서 제공하는 UserDefaults 객체와 코어 데이터(Core Data) 객체를 사용**할 수 있다.
  - UserDefaults : 비교적 간단한 데이터 저장에 사용
  - 코어 데이터 : 소규모 데이터베이스처럼 다소 복잡한 형태의 데이터 저장에 사용


----
- **UIApplication.shared.delegate** 로 AppDelegate 객체를 참조할 수 있다.
- **UserDefaults.standard** 프로퍼티를 사용하여 UserDefaults 객체의 인스턴스를 갖고온다.
  - 값 저장은 **set(_:forKey:)** 메소드 사용